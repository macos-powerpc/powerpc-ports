Drop errorring out, as in https://github.com/projectceladon/libpciaccess/blob/master/src/common_init.c
--- src/common_init.c	2024-03-24 06:32:20.000000000 +0800
+++ src/common_init.c	2025-12-21 04:25:27.000000000 +0800
@@ -70,7 +70,7 @@
 #elif defined(__CYGWIN__)
     err = pci_system_x86_create();
 #else
-# error "Unsupported OS"
+# warning "Unsupported OS"
 #endif
 
     return err;

Fix a thoughtless copypaste code for endian macros.
--- src/common_interface.c	2024-03-24 06:32:20.000000000 +0800
+++ src/common_interface.c	2025-12-21 04:26:38.000000000 +0800
@@ -73,20 +73,10 @@
 #elif defined(__APPLE__)
 #include <libkern/OSByteOrder.h>
 
-#define htobe16(x) OSSwapHostToBigInt16(x)
-#define htole16(x) OSSwapHostToLittleInt16(x)
-#define be16toh(x) OSSwapBigToHostInt16(x)
-#define le16toh(x) OSSwapLittleToHostInt16(x)
-
-#define htobe32(x) OSSwapHostToBigInt32(x)
-#define htole32(x) OSSwapHostToLittleInt32(x)
-#define be32toh(x) OSSwapBigToHostInt32(x)
-#define le32toh(x) OSSwapLittleToHostInt32(x)
-
-#define htobe64(x) OSSwapHostToBigInt64(x)
-#define htole64(x) OSSwapHostToLittleInt64(x)
-#define be64toh(x) OSSwapBigToHostInt64(x)
-#define le64toh(x) OSSwapLittleToHostInt64(x)
+# define LETOH_16(x)   OSSwapLittleToHostInt16(x)
+# define HTOLE_16(x)   OSSwapHostToLittleInt16(x)
+# define LETOH_32(x)   OSSwapLittleToHostInt32(x)
+# define HTOLE_32(x)   OSSwapHostToLittleInt32(x)
 
 #else
 
