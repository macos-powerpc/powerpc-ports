--- kitty/notify.py	2022-09-05 13:19:50.000000000 +0800
+++ kitty/notify.py	2026-01-08 03:21:39.000000000 +0800
@@ -14,54 +14,37 @@
 
 NotifyImplementation = Callable[[str, str, str], None]
 
-if is_macos:
-    from .fast_data_types import cocoa_send_notification
+from .fast_data_types import dbus_send_notification
 
-    def notify(
-        title: str,
-        body: str,
-        timeout: int = 5000,
-        application: str = 'kitty',
-        icon: bool = True,
-        identifier: Optional[str] = None,
-        subtitle: Optional[str] = None,
-    ) -> None:
-        cocoa_send_notification(identifier, title, body, subtitle)
-
-else:
-
-    from .fast_data_types import dbus_send_notification
-
-    alloc_map: Dict[int, str] = {}
-    identifier_map: Dict[str, int] = {}
-
-    def dbus_notification_created(alloc_id: int, notification_id: int) -> None:
-        identifier = alloc_map.pop(alloc_id, None)
-        if identifier is not None:
-            identifier_map[identifier] = notification_id
-
-    def dbus_notification_activated(notification_id: int, action: str) -> None:
-        rmap = {v: k for k, v in identifier_map.items()}
-        identifier = rmap.get(notification_id)
-        if identifier is not None:
-            notification_activated(identifier)
-
-    def notify(
-        title: str,
-        body: str,
-        timeout: int = -1,
-        application: str = 'kitty',
-        icon: bool = True,
-        identifier: Optional[str] = None,
-        subtitle: Optional[str] = None,
-    ) -> None:
-        icf = ''
-        if icon is True:
-            icf = logo_png_file
-        alloc_id = dbus_send_notification(application, icf, title, body, 'Click to see changes', timeout)
-        if alloc_id and identifier is not None:
-            alloc_map[alloc_id] = identifier
+alloc_map: Dict[int, str] = {}
+identifier_map: Dict[str, int] = {}
 
+def dbus_notification_created(alloc_id: int, notification_id: int) -> None:
+    identifier = alloc_map.pop(alloc_id, None)
+    if identifier is not None:
+        identifier_map[identifier] = notification_id
+
+def dbus_notification_activated(notification_id: int, action: str) -> None:
+    rmap = {v: k for k, v in identifier_map.items()}
+    identifier = rmap.get(notification_id)
+    if identifier is not None:
+        notification_activated(identifier)
+
+def notify(
+    title: str,
+    body: str,
+    timeout: int = -1,
+    application: str = 'kitty',
+    icon: bool = True,
+    identifier: Optional[str] = None,
+    subtitle: Optional[str] = None,
+) -> None:
+    icf = ''
+    if icon is True:
+        icf = logo_png_file
+    alloc_id = dbus_send_notification(application, icf, title, body, 'Click to see changes', timeout)
+    if alloc_id and identifier is not None:
+        alloc_map[alloc_id] = identifier
 
 def notify_implementation(title: str, body: str, identifier: str) -> None:
     notify(title, body, identifier=identifier)
