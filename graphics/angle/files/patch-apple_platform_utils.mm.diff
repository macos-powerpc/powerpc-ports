--- src/common/apple_platform_utils.mm.orig	2025-09-30 05:58:34.000000000 +0800
+++ src/common/apple_platform_utils.mm	2025-10-27 07:28:00.000000000 +0800
@@ -14,13 +14,24 @@
 #include "common/system_utils.h"
 
 #include <Foundation/Foundation.h>
-#include <Metal/Metal.h>
+#include <AvailabilityMacros.h>
+
+#if MAC_OS_X_VERSION_MIN_REQUIRED >= 101100
+#    include <Metal/Metal.h>
+#endif
+
+#if MAC_OS_X_VERSION_MIN_REQUIRED < 120000
+#    define kIOMainPortDefault kIOMasterPortDefault
+#endif
 
 namespace angle
 {
 
 bool IsMetalRendererAvailable()
 {
+#if MAC_OS_X_VERSION_MIN_REQUIRED < 101100
+    return false;
+#else
 #if defined(ANGLE_PLATFORM_MACOS) || defined(ANGLE_PLATFORM_MACCATALYST)
     static bool queriedMachineModel    = false;
     static bool machineModelSufficient = true;
@@ -120,6 +131,7 @@
         }
     }();
     return gpuFamilySufficient;
+#endif
 }
 
 #if defined(ANGLE_PLATFORM_MACOS) || defined(ANGLE_PLATFORM_MACCATALYST)
