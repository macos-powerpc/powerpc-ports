From 766a8b93655334e763ec096304c203403a43e25a Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Mon, 1 Dec 2025 19:03:59 +0800
Subject: [PATCH 7/7] Use wxTOOLKIT_LIBRARY_DIRS

---
 build/cmake/functions.cmake | 4 ++++
 build/cmake/toolkit.cmake   | 2 ++
 2 files changed, 6 insertions(+)

diff --git a/build/cmake/functions.cmake b/build/cmake/functions.cmake
index 7ae1cb5060..76efeeee94 100644
--- a/build/cmake/functions.cmake
+++ b/build/cmake/functions.cmake
@@ -404,6 +404,10 @@ function(wx_set_target_properties target_name)
             PUBLIC ${WIN32_LIBRARIES})
     endif()
 
+    if(wxTOOLKIT_LIBRARY_DIRS AND NOT wxTARGET_IS_BASE)
+        target_link_directories(${target_name}
+            PUBLIC ${wxTOOLKIT_LIBRARY_DIRS})
+    endif()
     if(wxTOOLKIT_LIBRARIES AND NOT wxTARGET_IS_BASE)
         target_link_libraries(${target_name}
             PUBLIC ${wxTOOLKIT_LIBRARIES})
diff --git a/build/cmake/toolkit.cmake b/build/cmake/toolkit.cmake
index 89d8dcba43..66b8af2f50 100644
--- a/build/cmake/toolkit.cmake
+++ b/build/cmake/toolkit.cmake
@@ -67,6 +67,7 @@ endif()
 if(wxUSE_GUI)
 set(wxTOOLKIT_INCLUDE_DIRS)
 set(wxTOOLKIT_LIBRARIES)
+set(wxTOOLKIT_LIBRARY_DIRS)
 set(wxTOOLKIT_VERSION)
 
 if(WXGTK)
@@ -81,6 +82,7 @@ if(WXGTK)
     find_package(${gtk_lib} REQUIRED)
     list(APPEND wxTOOLKIT_INCLUDE_DIRS ${${gtk_lib}_INCLUDE_DIRS})
     list(APPEND wxTOOLKIT_LIBRARIES ${${gtk_lib}_LIBRARIES})
+    list(APPEND wxTOOLKIT_LIBRARY_DIRS ${${gtk_lib}_LIBRARY_DIRS})
     list(APPEND wxTOOLKIT_DEFINITIONS ${${gtk_lib}_DEFINITIONS})
     list(APPEND wxTOOLKIT_DEFINITIONS __WXGTK__)
     set(wxTOOLKIT_VERSION ${${gtk_lib}_VERSION})
-- 
2.24.3 (Apple Git-128)

