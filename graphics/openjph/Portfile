# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               cmake 1.1
PortGroup               github 1.0

name                    openjph
github.setup            aous72 OpenJPH 0.25.2
revision                0
categories              graphics
license                 BSD
maintainers             {@barracuda156 macos-powerpc.org:barracuda} openmaintainer

description             Open-source implementation of High-throughput JPEG2000 (HTJ2K)
long_description        {*}${description}
checksums               rmd160  d861ff9ad8e416bcfc013e5fe20c07a27b8904b2 \
                        sha256  ae5f09562cb811cb2fb881c5eb74583e18db941848cfa3c35787e2580f3defc6 \
                        size    477255
github.tarball_from     archive

# https://github.com/aous72/OpenJPH/issues/230
patchfiles-append       b3f2c4ad3b72df85aa7b72beb981bbac3e71ea56.patch

configure.args-append   -DBUILD_SHARED_LIBS=ON \
                        -DOJPH_BUILD_EXECUTABLES=ON \
                        -DOJPH_BUILD_TESTS=OFF \
                        -DOJPH_DISABLE_SIMD=ON \
                        -DOJPH_ENABLE_TIFF_SUPPORT=ON

compiler.cxx_standard   2011
