# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           ocaml 1.1

name                ocaml-cmdliner
github.setup        dbuenzli cmdliner 2.1.0 v
revision            1
categories          ocaml devel
maintainers         {@barracuda156 macos-powerpc.org:barracuda} openmaintainer
license             ISC
description         ${name} allows the declarative definition of command line interfaces
long_description    ${description} for OCaml.
homepage            https://erratique.ch/software/cmdliner
checksums           rmd160  802bcac902951ddf843b8535a8148828bb13d8c8 \
                    sha256  02f0c3a7ccbe006092ed1ca1aba9b27ad1af67eb0d7ad1af7a52e27a11b02ec5 \
                    size    119599
github.tarball_from archive

# Usage of makefile is intended; both dune and topkg builds skip executable:
# https://github.com/stan-dev/stanc3/issues/1583

patchfiles          patch-Makefile.diff

post-patch {
    reinplace "s|@PREFIX@|${prefix}|" ${worksrcpath}/Makefile
}

# groff: invalid option -- K
depends_run-append  port:groff

use_configure       no
