# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           ocaml 1.1
PortGroup           openssl 1.0

# Older version, 0.2.0 requires OCaml 5.x.
name                ocaml-piaf
github.setup        anmonteiro piaf 0.1.0
revision            0
categories          ocaml devel net
maintainers         {@barracuda156 macos-powerpc.org:barracuda} openmaintainer
license             BSD
description         HTTP library with HTTP/2 support
long_description    {*}${description} written entirely in OCaml.
use_bzip2           yes
extract.suffix      .tbz
distname            piaf-${version}
checksums           rmd160  173ed38314cefda2fa02a79babe1575126cee745 \
                    sha256  00c3bea6d1a8c77dc18bbbbf1f449a78253cf17391ad153751b2e87f71307265 \
                    size    563121
github.tarball_from releases

patchfiles          patch-no-bundled-prettym.diff

depends_build-append \
                    path:bin/pkg-config:pkgconfig

depends_lib-append  port:ocaml-angstrom \
                    port:ocaml-bigstringaf \
                    port:ocaml-faraday \
                    port:ocaml-gluten-lwt-unix \
                    port:ocaml-logs \
                    port:ocaml-lwt \
                    port:ocaml-lwt_ssl \
                    port:ocaml-magic-mime \
                    port:ocaml-mrmime \
                    port:ocaml-pecu \
                    port:ocaml-psq \
                    port:ocaml-result \
                    port:ocaml-stdlib-shims \
                    port:ocaml-uri

ocaml.build_type    dune
