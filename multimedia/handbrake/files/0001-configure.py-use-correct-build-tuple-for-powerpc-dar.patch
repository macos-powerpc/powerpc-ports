From 10261291a8af3238ca96ed28b1078a78461ebfca Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Fri, 20 Feb 2026 04:27:14 +0800
Subject: [PATCH 1/2] configure.py: use correct build tuple for powerpc*-darwin

---
 make/configure.py | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/make/configure.py b/make/configure.py
index 36817f9b9..3795b2ead 100644
--- a/make/configure.py
+++ b/make/configure.py
@@ -528,6 +528,10 @@ class BuildTupleProbe( ShellProbe, list ):
         if self.vendor == 'apple' and self.system == 'darwin':
             if self.machine == 'aarch64':
                 self[0] = self.machine = 'arm64'
+            elif self.machine == 'powerpc64':
+                self[0] = self.machine = 'ppc64'
+            elif self.machine == 'powerpc':
+                self[0] = self.machine = 'ppc'
 
         ## nice formal name for 'system'
         self.systemf = platform.system()
@@ -558,6 +562,10 @@ class HostTupleAction( Action, list ):
         if build_tuple.vendor == 'apple' and build_tuple.system == 'darwin':
             if build_tuple.spec.startswith('aarch64'):
                 build_tuple.spec = 'arm64' + build_tuple.spec.lstrip('aarch64')
+            elif build_tuple.spec.startswith('powerpc64'):
+                build_tuple.spec = 'ppc64' + build_tuple.spec.lstrip('powerpc64')
+            elif build_tuple.spec.startswith('powerpc'):
+                build_tuple.spec = 'ppc' + build_tuple.spec.lstrip('powerpc')
 
         if cross is not None:
             self.spec = os.path.basename( cross ).rstrip( '-' )
-- 
2.52.0

