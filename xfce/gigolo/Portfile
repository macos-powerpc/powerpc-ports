# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           active_variants 1.1
PortGroup           meson 1.0
PortGroup           perl5 1.0

name                gigolo
version             0.6.0
revision            0
set branch          [join [lrange [split ${version} .] 0 1] .]
categories          xfce sysutils
license             GPL-2
maintainers         nomaintainer
description         Frontend to easily manage filesystem connections
long_description    {*}${description}

homepage            https://docs.xfce.org/xfce/${name}/start
master_sites        https://archive.xfce.org/src/apps/${name}/${branch}/
use_xz              yes
checksums           rmd160  ef466ad7e55d9de053e932d0ae2bd6d1662dec23 \
                    sha256  f27dbb51abe8144c1b981f2d820ad1b279c1bc4623d7333b7d4f5f4777eb45ed \
                    size    198948

perl5.branches      5.34

depends_build-append \
                    port:gettext \
                    port:p${perl5.major}-xml-parser \
                    path:bin/pkg-config:pkgconfig

depends_lib-append  port:gettext-runtime \
                    path:lib/pkgconfig/glib-2.0.pc:glib2 \
                    path:lib/pkgconfig/gtk+-3.0.pc:gtk3 \
                    port:gvfs \
                    port:xorg-libX11

depends_run-append  port:desktop-file-utils

require_active_variants gtk3 x11

compiler.c_standard 2011

post-activate {
    system "${prefix}/bin/update-desktop-database ${prefix}/share/applications"
    system "${prefix}/bin/gtk-update-icon-cache -f -t ${prefix}/share/icons/hicolor"
}
