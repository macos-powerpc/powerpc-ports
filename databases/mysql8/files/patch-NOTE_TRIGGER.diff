--- a/mysys/kqueue_timers.cc	2025-09-24 21:35:03.000000000 +0800
+++ b/mysys/kqueue_timers.cc	2025-12-14 19:18:07.000000000 +0800
@@ -135,7 +135,11 @@
 void my_timer_deinitialize(void) {
   struct kevent kev;
 
+#if defined(NOTE_TRIGGER)
   EV_SET(&kev, 0, EVFILT_USER, 0, NOTE_TRIGGER, 0, 0);
+#elif defined(EV_TRIGGER)
+  EV_SET(&kev, 0, EVFILT_USER, EV_TRIGGER, 0, 0, 0);
+#endif
 
   if (kevent(kq_fd, &kev, 1, nullptr, 0, nullptr) < 0)
     my_message_local(ERROR_LEVEL,
