# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        jonas tig 2.6.0 tig-
revision            0
categories          devel
maintainers         {cal @neverpanic} \
                    openmaintainer
description         A text interface to git repositories
long_description    {*}${description}

homepage            https://jonas.github.io/tig
license             GPL-2+
checksums           rmd160  63c1638e27114738d59e80becabf1f6005ac1043 \
                    sha256  99d4a0fdd3d93547ebacfe511195cb92e4f75b91644c06293c067f401addeb3e \
                    size    1196658
github.tarball_from releases

depends_build       path:bin/pkg-config:pkgconfig
depends_lib         path:bin/git:git \
                    port:libiconv \
                    port:ncurses \
                    port:pcre2 \
                    port:readline

license_noconflict  git asciidoc

# -E, -S, -save-temps and -M options are not allowed with multiple -arch flags
universal_variant   no

destroot.target-append install-doc-man

variant doc description "Install HTML documentation" {
    depends_build-append port:asciidoc
    depends_build-append port:xmlto

    build.target-append doc-html
    destroot.target-append install-doc-html
}

default_variants    +doc
