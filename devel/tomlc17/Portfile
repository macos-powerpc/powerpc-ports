# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           makefile 1.0

github.setup        cktan tomlc17 251225 R
revision            0
categories          devel
license             MIT
maintainers         {@barracuda156 macos-powerpc.org:barracuda} openmaintainer
description         TOML C library in c17
long_description    {*}${description}
checksums           rmd160  9278a81c1aceba3a487f347757b8717118a0fa62 \
                    sha256  749968d67f10d8400afade3432028600cbd42cdafdfe74cc991bcce84bad8ca6 \
                    size    47373
github.tarball_from archive

post-patch {
    reinplace "s,/usr/local,${prefix}," ${worksrcpath}/Makefile
}

compiler.c_standard     2017
# https://github.com/cktan/tomlc17/issues/14
compiler.cxx_standard   2020

# Cannot enable tests due to: https://github.com/cktan/tomlc17/issues/13
test.run            no
