--- CMakeLists.txt	2025-10-16 09:54:23.000000000 +0800
+++ CMakeLists.txt	2026-01-18 01:18:01.000000000 +0800
@@ -14,7 +14,7 @@
 cmake_minimum_required(VERSION 3.10...3.31)
 
 # Has to be set before `project()`, and ignored on non-macos:
-set(CMAKE_OSX_DEPLOYMENT_TARGET 10.12 CACHE STRING "macOS deployment target (Apple clang only)")
+set(CMAKE_OSX_DEPLOYMENT_TARGET @MACOS@ CACHE STRING "macOS deployment target (Apple clang only)")
 
 project(liboxenmq
     VERSION 1.3.0
@@ -170,11 +170,12 @@
     target_link_libraries(oxenmq PUBLIC libzmq_vendor)
 endif()
 
+pkg_check_modules(cppzmq cppzmq REQUIRED)
+
 target_include_directories(oxenmq
     PUBLIC
         $<INSTALL_INTERFACE:>
         $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}>
-        $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/cppzmq>
 )
 
 target_compile_options(oxenmq PRIVATE -Wall -Wextra)
