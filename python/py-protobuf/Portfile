# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           python 1.0

# IMPORTANT: this should match protobuf port versions, apparently.
# Protobuf 33.x are broken on Big-endian presently, so refrain from accidental upgrading
# until that issue is fixed.
name                py-protobuf
version             6.31.1
revision            0

categories-append   devel
license             BSD
maintainers         nomaintainer

description         Python bindings for Protocol Buffers
long_description    {*}${description}
homepage            https://protobuf.dev

checksums           rmd160  226fd21a1887fbed17c2087203e2021aad4c0f36 \
                    sha256  d8cac4c982f0b957a4dc73a80e2ea24fab08e679c0de9deb835f4a12d69aca9a \
                    size    441797

python.versions     310 311 312 313

if {${subport} ne ${name}} {
    conflicts       py${python.version}-protobuf3

    depends_lib-append \
                    port:protobuf

    # Just to match the requirement in protobuf port.
    compiler.cxx_standard   2017
}
