# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           ocaml 1.1

name                chamo
# Next one switches to OCaml 5.x.
# https://framagit.org/zoggy/chamo/-/issues/12
version             4.0
revision            2
categories          editors ocaml
maintainers         {@barracuda156 macos-powerpc.org:barracuda} openmaintainer
license             GPL-3
description         kind of emacs-like editor
long_description    A {*}${description}, using OCaml instead of Lisp.
use_bzip2           yes
homepage            https://zoggy.frama.io/chamo
master_sites        https://framagit.org/zoggy/${name}/-/archive/${version}
checksums           rmd160  d4fdcd0910d6b232336d2db2e44c2424034ee1fd \
                    sha256  89c3da05bb8302f8372f1f9d64f8bbf0a97d866787131ab0cf680f7719c83e08 \
                    size    97280

# FIXME: wrong colors on Big-endian:
# https://framagit.org/zoggy/chamo/-/issues/13

depends_lib-append  port:ocaml-fmt \
                    port:ocaml-logs \
                    port:ocaml-lwt \
                    port:ocaml-lwt_ppx \
                    port:ocaml-ocf \
                    port:ocaml-ocf_ppx \
                    port:ocaml-ppx_blob \
                    port:ocaml-re \
                    port:ocaml-pcre \
                    port:ocaml-sedlex \
                    port:ocaml-stk \
                    port:ocaml-stk_iconv \
                    port:ocaml-tsdl \
                    port:ocaml-tsdl-image \
                    port:ocaml-tsdl-ttf \
                    port:ocaml-uutf \
                    port:ocaml-xmlm \
                    port:ocaml-xtmpl \
                    port:ocaml-xtmpl_ppx

ocaml.build_type    dune

notes "
After updating, please delete config files in Home directory, including those in ~/.config,\
otherwise ${name} will fail to launch.
"
