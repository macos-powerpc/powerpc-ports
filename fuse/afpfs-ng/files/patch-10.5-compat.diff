--- lib/lowlevel.c	2026-02-09 04:09:54.000000000 +0800
+++ lib/lowlevel.c	2026-02-22 08:03:20.000000000 +0800
@@ -24,6 +24,10 @@
 #include "midlevel.h"
 #include "forklist.h"
 
+#ifdef __APPLE__
+#include <AvailabilityMacros.h>
+#endif
+
 static void set_nonunix_perms(unsigned int * mode, struct afp_file_info *fp)
 {
     if (fp->isdir) {
@@ -721,7 +725,7 @@
     stbuf->st_ctime = creation_date;
     stbuf->st_mtime = modification_date;
 #endif
-#ifdef __APPLE__
+#if defined(__APPLE__) && (MAC_OS_X_VERSION_MIN_REQUIRED >= 1060)
     /* On macOS, set birthtimespec for Finder display (handled by stat_to_darwin_attr) */
     stbuf->st_birthtimespec.tv_sec = creation_date;
     stbuf->st_birthtimespec.tv_nsec = 0;
