From cb1e609e00e13ebc8a98a6e15190b7ebc2c86b47 Mon Sep 17 00:00:00 2001
From: Brian Smith <brian@dbsoft.org>
Date: Tue, 6 Aug 2024 19:36:53 -0500
Subject: [PATCH 05/14] Issue #2051 - Follow-up Part 2c: No IOSurface support
 on 10.5 so disable for PPC.

---
 gfx/2d/DrawTargetCG.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/gfx/2d/DrawTargetCG.cpp b/gfx/2d/DrawTargetCG.cpp
index 3c1e32a5ce..256a1a66f9 100644
--- a/gfx/2d/DrawTargetCG.cpp
+++ b/gfx/2d/DrawTargetCG.cpp
@@ -1856,7 +1856,7 @@ DrawTargetCG::CreatePathBuilder(FillRule aFillRule) const
 void*
 DrawTargetCG::GetNativeSurface(NativeSurfaceType aType)
 {
-#ifdef MOZ_WIDGET_COCOA
+#if defined(MOZ_WIDGET_COCOA) && !defined(__ppc__)
   if ((aType == NativeSurfaceType::CGCONTEXT && GetContextType(mCg) == CG_CONTEXT_TYPE_BITMAP) ||
       (aType == NativeSurfaceType::CGCONTEXT_ACCELERATED && GetContextType(mCg) == CG_CONTEXT_TYPE_IOSURFACE)) {
     return mCg;
-- 
2.50.1

