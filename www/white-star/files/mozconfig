# Standard build options for White Star
export CC="@CC@ -flax-vector-conversions @NATIVE@ -m@BITS@ -falign-loops=32 -falign-functions=32 -falign-labels=32 -falign-jumps=32 -mmfcrf -mpowerpc-gpopt -read_only_relocs suppress -force_cpusubtype_ALL -mdynamic-no-pic -Wno-error=incompatible-pointer-types"
export CXX="@CXX@ -flax-vector-conversions -fpermissive @NATIVE@ -m@BITS@ -falign-loops=32 -falign-functions=32 -falign-labels=32 -falign-jumps=32 -mmfcrf -mpowerpc-gpopt -read_only_relocs suppress -force_cpusubtype_ALL -mdynamic-no-pic"
export STRIP=@STRIP@
export LD=@LD@
export PKG_CONFIG_PATH=@PREFIX@/lib/pkgconfig/

mk_add_options MOZ_MAKE_FLAGS="-j@JOBS@"

# These build fine, but effect is unknown atm:
# ac_add_options --with-nspr-prefix=@PREFIX@
# ac_add_options --with-nss-prefix=@PREFIX@
# ac_add_options --with-system-bz2
# ac_add_options --with-system-jpeg
# ac_add_options --with-system-zlib

# This one breaks the build:
# ac_add_options --enable-system-cairo

ac_add_options --enable-application=whitestar
ac_add_options --enable-av1
ac_add_options --enable-devtools
ac_add_options --enable-jxl
ac_add_options --enable-optimize=-O1

ac_add_options --disable-apple-media
ac_add_options --disable-gamepad
ac_add_options --disable-necko-wifi
ac_add_options --disable-tests
ac_add_options --disable-updater
ac_add_options --disable-webrtc

# ac_add_options --enable-debug
# ac_add_options --enable-jemalloc
# ac_add_options --enable-strip

ac_add_options --enable-macos-target=@DEPTARGET@
ac_add_options --with-branding=whitestar/branding/whitestar
ac_add_options --with-macos-sdk=@SYSROOT@
ac_add_options --host=@TRIPLE@
ac_add_options --target=@TRIPLE@

# Uncomment if using clang++ from Xcode 10 or higher
# export CXX="/usr/bin/clang++ -stdlib=libc++"
