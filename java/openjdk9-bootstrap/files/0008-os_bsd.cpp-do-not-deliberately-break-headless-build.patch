From fb2c77fb79b54851aec177e64aad08e4d1360e93 Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Sun, 20 Jul 2025 23:38:54 +0800
Subject: [PATCH 08/31] os_bsd.cpp: do not deliberately break headless build

---
 hotspot/src/os/bsd/vm/os_bsd.cpp | 5 -----
 1 file changed, 5 deletions(-)

diff --git a/hotspot/src/os/bsd/vm/os_bsd.cpp b/hotspot/src/os/bsd/vm/os_bsd.cpp
index 6ef53c223b..bd3ac41d8c 100644
--- a/hotspot/src/os/bsd/vm/os_bsd.cpp
+++ b/hotspot/src/os/bsd/vm/os_bsd.cpp
@@ -4483,10 +4483,6 @@ int os::fork_and_exec(char* cmd) {
 // as libawt.so, and renamed libawt_xawt.so
 //
 bool os::is_headless_jre() {
-#ifdef __APPLE__
-  // We no longer build headless-only on Mac OS X
-  return false;
-#else
   struct stat statbuf;
   char buf[MAXPATHLEN];
   char libmawtpath[MAXPATHLEN];
@@ -4524,7 +4520,6 @@ bool os::is_headless_jre() {
   if (::stat(libmawtpath, &statbuf) == 0) return false;
 
   return true;
-#endif
 }
 
 // Get the default path to the core file
-- 
2.24.3 (Apple Git-128)

