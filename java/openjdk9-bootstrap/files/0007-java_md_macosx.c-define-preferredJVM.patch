From 2826fa3752daa64564e76648ed7829ffb5610463 Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Sun, 20 Jul 2025 23:37:09 +0800
Subject: [PATCH 07/31] java_md_macosx.c: define preferredJVM

---
 jdk/src/java.base/macosx/native/libjli/java_md_macosx.c | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/jdk/src/java.base/macosx/native/libjli/java_md_macosx.c b/jdk/src/java.base/macosx/native/libjli/java_md_macosx.c
index f21201ced6..498d50449f 100644
--- a/jdk/src/java.base/macosx/native/libjli/java_md_macosx.c
+++ b/jdk/src/java.base/macosx/native/libjli/java_md_macosx.c
@@ -211,6 +211,8 @@ static InvocationFunctions *GetExportedJNIFunctions() {
         preferredJVM = "client";
 #elif defined(__x86_64__)
         preferredJVM = "server";
+#elif defined(__arm64__) || defined(__POWERPC__)
+        preferredJVM = "server";
 #else
 #error "Unknown architecture - needs definition"
 #endif
-- 
2.24.3 (Apple Git-128)

