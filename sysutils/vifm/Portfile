# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github          1.0
PortGroup           legacysupport   1.1

github.setup        vifm vifm 0.14.3 v
revision            0
categories          sysutils
installs_libs       no
license             GPL-2+
maintainers         {gmail.com:herby.gillot @herbygillot} \
                    openmaintainer
description         ncurses-based file manager with vi like keybindings
long_description    Vifm is an ncurses-based file manager with vi like \
                    keybindings. If you use vi, vifm gives you complete \
                    keyboard control over your files without having to \
                    learn a new set of commands.
homepage            https://vifm.info
checksums           rmd160  065d5a9ebc6383816ee7fd3d0b7abd20b36548f7 \
                    sha256  9e21e69f0bfa00a470c01f4b83e011af6a4e69626237a8d12afc0d79a7819be8 \
                    size    2479414
github.tarball_from archive

depends_lib-append  port:libmagic \
                    port:ncurses

# depends_run       port:desktop-file-utils

# TODO: add variants for GTK and X.
configure.args      --with-libmagic \
                    --without-gtk \
                    --without-X11

# ops.c:586: error: unknown field ‘fast_file_cloning’ specified in initializer
compiler.blacklist-append \
                    *gcc-4.0 *gcc-4.2 {clang < 421}

test.run            yes
test.target         check

github.livecheck.regex {([0-9.]+)}
