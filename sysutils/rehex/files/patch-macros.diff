From abde36f9e3388b1ea47ef8cd1985f4a6cd3d8ecc Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Tue, 13 Jan 2026 14:52:03 +0800
Subject: [PATCH] Add missing __STDC_FORMAT_MACROS

---
 src/BasicDataTypes.cpp | 4 ++++
 src/ChecksumImpl.cpp   | 4 ++++
 src/DocumentCtrl.cpp   | 5 +++++
 src/Tab.cpp            | 5 +++++
 src/util.cpp           | 5 +++++
 5 files changed, 23 insertions(+)

diff --git a/src/BasicDataTypes.cpp b/src/BasicDataTypes.cpp
index 8ec596da..897af845 100644
--- src/BasicDataTypes.cpp
+++ src/BasicDataTypes.cpp
@@ -17,6 +17,10 @@
 
 #include "platform.hpp"
 
+#ifndef __STDC_FORMAT_MACROS
+#define __STDC_FORMAT_MACROS
+#endif
+
 #include <inttypes.h>
 #include <stdint.h>
 #include <stdio.h>
diff --git a/src/ChecksumImpl.cpp b/src/ChecksumImpl.cpp
index 5e0d895a..125e0423 100644
--- src/ChecksumImpl.cpp
+++ src/ChecksumImpl.cpp
@@ -17,6 +17,10 @@
 
 #include "platform.hpp"
 
+#ifndef __STDC_FORMAT_MACROS
+#define __STDC_FORMAT_MACROS
+#endif
+
 #include <assert.h>
 #include <botan/build.h>
 #include <botan/hash.h>
diff --git a/src/DocumentCtrl.cpp b/src/DocumentCtrl.cpp
index 6a9fce97..db36da61 100644
--- src/DocumentCtrl.cpp
+++ src/DocumentCtrl.cpp
@@ -16,6 +16,11 @@
 */
 
 #include "platform.hpp"
+
+#ifndef __STDC_FORMAT_MACROS
+#define __STDC_FORMAT_MACROS
+#endif
+
 #include <algorithm>
 #include <assert.h>
 #include <ctype.h>
diff --git a/src/Tab.cpp b/src/Tab.cpp
index cdf8e72b..5ece493e 100644
--- src/Tab.cpp
+++ src/Tab.cpp
@@ -16,6 +16,11 @@
 */
 
 #include "platform.hpp"
+
+#ifndef __STDC_FORMAT_MACROS
+#define __STDC_FORMAT_MACROS
+#endif
+
 #include <algorithm>
 #include <exception>
 #include <inttypes.h>
diff --git a/src/util.cpp b/src/util.cpp
index fecdfd0b..9c131a7d 100644
--- src/util.cpp
+++ src/util.cpp
@@ -16,6 +16,11 @@
 */
 
 #include "platform.hpp"
+
+#ifndef __STDC_FORMAT_MACROS
+#define __STDC_FORMAT_MACROS
+#endif
+
 #include <ctype.h>
 #include <float.h>
 #include <inttypes.h>
