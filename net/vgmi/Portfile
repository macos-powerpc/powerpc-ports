# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0
PortGroup           makefile 1.0

name                vgmi
github.setup        RealMelkor Vgmi 7df170e2a30a3fd3b2624d6ef7ceea553f5ee6b5
version             2.1
revision            0
categories          net gemini
license             ISC
maintainers         nomaintainer
description         Gemini client with vim-like keybindings
long_description    {*}${description}
homepage            https://rmf-dev.com/en/vgmi.html
checksums           rmd160  fb2e6615ef9e23d3c8eb29ec6cf0f9a6572ddbab \
                    sha256  e66f63be13f7b98ae4eefaae7a2dee181514b7248b71a81068803a80564bfa94 \
                    size    340389
github.tarball_from archive

compiler.c_standard 2011

# libretls only needed with openssl
depends_lib-append  port:libretls \
                    path:lib/libssl.dylib:openssl

post-patch {
    reinplace "s|/usr/local|${prefix}|g" ${worksrcpath}/Makefile
}

build.target

destroot {
    copy ${worksrcpath}/${name} ${destroot}${prefix}/bin/
}
