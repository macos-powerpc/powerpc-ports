From 9e79ad3cfcabec1d58d10d714342ae76059ff014 Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <vital.had@gmail.com>
Date: Thu, 22 Jan 2026 05:24:02 +0800
Subject: [PATCH 4/5] XLDPluginManager.m: change version threshold

---
 XLD/XLDPluginManager.m | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/XLD/XLDPluginManager.m b/XLD/XLDPluginManager.m
index b853893..ea191a9 100644
--- a/XLD/XLDPluginManager.m
+++ b/XLD/XLDPluginManager.m
@@ -53,13 +53,13 @@
 #if MAC_OS_X_VERSION_MAX_ALLOWED >= MAC_OS_X_VERSION_10_5
 				NSArray *archArray = [bundle executableArchitectures];
 #if defined(__x86_64__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitectureX86_64)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitectureX86_64)]] == NSNotFound) continue;
 #elif defined(__i386__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitectureI386)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitectureI386)]] == NSNotFound) continue;
 #elif defined(__ppc__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitecturePPC)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitecturePPC)]] == NSNotFound) continue;
 #elif defined(__aarch64__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitectureARM64)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitectureARM64)]] == NSNotFound) continue;
 #endif
 #endif
 				if(![[bundle infoDictionary] objectForKey:@"NSPrincipalClass"]) continue;
@@ -80,13 +80,13 @@
 #if MAC_OS_X_VERSION_MAX_ALLOWED >= MAC_OS_X_VERSION_10_5
 				NSArray *archArray = [bundle executableArchitectures];
 #if defined(__x86_64__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitectureX86_64)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitectureX86_64)]] == NSNotFound) continue;
 #elif defined(__i386__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitectureI386)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitectureI386)]] == NSNotFound) continue;
 #elif defined(__ppc__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitecturePPC)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitecturePPC)]] == NSNotFound) continue;
 #elif defined(__aarch64__)
-				if([archArray indexOfObject:@(NSBundleExecutableArchitectureARM64)] == NSNotFound) continue;
+				if([archArray indexOfObject:[NSNumber numberWithInt:((int)NSBundleExecutableArchitectureARM64)]] == NSNotFound) continue;
 #endif
 #endif
 				if(![[bundle infoDictionary] objectForKey:@"NSPrincipalClass"]) continue;
