--- meson.build	2024-03-04 07:53:20.000000000 +0800
+++ meson.build	2026-01-10 19:01:07.000000000 +0800
@@ -4,7 +4,7 @@
 )
 
 i18n = import('i18n')
-pkgdatadir = join_paths(get_option('datadir'), meson.project_name())
+pkgdatadir = '@pkgd@'
 
 install_subdir('pithos', install_dir: pkgdatadir)
 subdir('data')


--- meson_post_install.py	2024-03-04 07:53:20.000000000 +0800
+++ meson_post_install.py	2026-01-10 18:58:45.000000000 +0800
@@ -4,7 +4,7 @@
 from os import environ, path
 from subprocess import call
 
-prefix = environ.get('MESON_INSTALL_PREFIX', '/usr/local')
+prefix = environ.get('MESON_INSTALL_PREFIX', '/opt/local')
 datadir = path.join(prefix, 'share')
 destdir = environ.get('DESTDIR', '')
 
@@ -18,4 +18,4 @@
     call(['glib-compile-schemas', path.join(datadir, 'glib-2.0', 'schemas')])
 
 print('Compiling python bytecode...')
-compile_dir(destdir + path.join(datadir, 'pithos', 'pithos'), optimize=2)
+compile_dir(destdir + path.join(datadir, 'pithos'), optimize=2)
