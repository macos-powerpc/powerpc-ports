# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem                  1.0
PortGroup                   github 1.0
PortGroup                   meson 1.0

name                        pithos
version                     1.6.2
github.setup                pithos pithos 1.6.2
github.tarball_from         archive
distname                    ${github.version}
checksums                   rmd160  841c7d87f8cd93a4092adde0103945190403858a \
                            sha256  69fffb5af07787eaf603d9e63b6facf25cc41760109dee5a92514354edd1068d \
                            size    122622

categories                  audio
maintainers                 nomaintainer
license                     GPL

description                 GTK-based pandora.com player

long_description            pianobar is a GUI client for the \
                            personalized web radio pandora \
                            (http://www.pandora.com).

set py_ver                  311

depends_build               port:appstream-glib

depends_lib-append          port:gnome-keyring \
                            port:gobject-introspection \
                            port:gstreamer1-gst-libav \
                            port:gtk3 \
                            port:libsecret \
                            port:py${py_ver}-gobject3

# See https://trac.macports.org/ticket/38634
post-activate {
    system "${prefix}/bin/glib-compile-schemas ${prefix}/share/glib-2.0/schemas"
}

notes "
${name} uses dbus at runtime. If dbus service is not running, please start it with:\
launchctl load -w /Library/LaunchAgents/org.freedesktop.dbus-session.plist

Also, you need a U.S. IP address or proxy to play Pandora music"
