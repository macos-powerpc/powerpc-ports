# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem          1.0
PortGroup           github 1.0

github.setup        mschwendt libfc14audiodecoder 2.0.2
revision            1
conflicts           ${name}1
categories          audio
license             GPL-2
maintainers         nomaintainer
description         C wrapper library for Future Composer audio decoding
long_description    {*}${description}
checksums           rmd160  41975c3a8461cacc6b66257a72751465b7c68a5e \
                    sha256  5112b43889d9bb6bb39bad652a1235ef5792a990c80ad1d923ea97f27563b9cd \
                    size    192618
github.tarball_from archive

# Upstream patch, see: https://github.com/mschwendt/libfc14audiodecoder/issues/4
if {${subport} eq ${name}} {
    patchfiles      4844ce200cb06d68743ea7a6810b5ea975d557b1.patch
}

use_autoreconf      yes

# MyTypes.h:10:19: error: cstdint: No such file or directory
compiler.cxx_standard   2011

# Temporary subport due to https://github.com/Greedysky/TTKMusicPlayer/issues/168
subport ${name}1 {
    github.setup    mschwendt libfc14audiodecoder 1.0.6
    revision        0
    conflicts       ${name}
    checksums       rmd160  b20c42226534f630e6f9dd7e75897626954fa32f \
                    sha256  dc0229d164b5ba3eabecfeabc6c9265799260b53365a1440f2eff3b4dadb41e4 \
                    size    58508
}
