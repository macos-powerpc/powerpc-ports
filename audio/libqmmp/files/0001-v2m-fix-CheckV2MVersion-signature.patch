From 321dc1e2b7ad6df0652f150d27aed56a81309dba Mon Sep 17 00:00:00 2001
From: Sergey Fedorov <barracuda@macos-powerpc.org>
Date: Thu, 10 Jul 2025 06:00:31 +0800
Subject: [PATCH 1/3] v2m: fix CheckV2MVersion signature

---
 qmmp/src/plugins/Input/zed/v2m/v2mhelper.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git qmmp/src/plugins/Input/zed/v2m/v2mhelper.cpp qmmp/src/plugins/Input/zed/v2m/v2mhelper.cpp
index 8485bee99..ac5617858 100644
--- qmmp/src/plugins/Input/zed/v2m/v2mhelper.cpp
+++ qmmp/src/plugins/Input/zed/v2m/v2mhelper.cpp
@@ -7,13 +7,15 @@
 static bool v2mInitialized = false;
 int loadAndConvert(unsigned char *module, qint64 size, uint8_t **conv, int *convlen)
 {
+    ssbase base;
+
     if(!v2mInitialized)
     {
         sdInit();
         v2mInitialized = true;
     }
 
-    const int ver = CheckV2MVersion(module, size);
+    const int ver = CheckV2MVersion(module, size, base);
     if(ver < 0)
     {
         return -1;
-- 
2.48.0

